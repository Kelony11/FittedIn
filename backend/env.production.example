# FittedIn Production Environment Variables
# Copy this file to .env and fill in your actual values

# ============================================
# Server Configuration
# ============================================
NODE_ENV=production
PORT=3000

# ============================================
# Database Configuration
# ============================================
# Option 1: Using AWS RDS (Recommended)
DATABASE_URL=postgresql://username:password@your-rds-endpoint.region.rds.amazonaws.com:5432/fittedin_prod

# Option 2: Using individual variables
# DB_HOST=your-db-host
# DB_PORT=5432
# DB_NAME=fittedin_prod
# DB_USER=your-db-user
# DB_PASSWORD=your-secure-password

# ============================================
# JWT Authentication
# ============================================
# Generate a strong secret: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# ============================================
# CORS Configuration
# ============================================
# Comma-separated list of allowed origins
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ============================================
# AWS Configuration (Optional)
# ============================================
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1

# ============================================
# CloudWatch Logs (Optional)
# ============================================
# LOG_GROUP_NAME=fittedin-backend
# LOG_STREAM_NAME=production

# ============================================
# Email Configuration (Optional - for future use)
# ============================================
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASSWORD=your-email-password
# SMTP_FROM=noreply@yourdomain.com

# ============================================
# File Upload Configuration (Optional)
# ============================================
# S3_BUCKET_NAME=fittedin-uploads
# S3_REGION=us-east-1
# MAX_FILE_SIZE=10485760

# ============================================
# Security
# ============================================
# Rate limiting (requests per 15 minutes per IP)
# Recommended: 100 for production, 200 for higher traffic
RATE_LIMIT_MAX=100

# ============================================
# Database Connection Pool (Optional)
# ============================================
# For AWS EC2 Free Tier, recommended: max 5 connections
# For larger instances, you can increase to 10-20
# DB_POOL_MAX=5
# DB_POOL_MIN=0

# ============================================
# Process Management (PM2) Configuration (Optional)
# ============================================
# Number of PM2 instances (use 1 for free tier single CPU)
# PM2_INSTANCES=1
# Maximum memory before restart (e.g., 400M for free tier with 1GB RAM)
# PM2_MAX_MEMORY=400M

# ============================================
# Logging Configuration
# ============================================
# Log format: 'json' for structured logs (recommended for production)
# or leave unset for human-readable logs
# LOG_FORMAT=json
# LOG_LEVEL=info

# ============================================
# Monitoring (Optional)
# ============================================
# SENTRY_DSN=your-sentry-dsn-for-error-tracking

# ============================================
# Notes for AWS EC2 Free Tier
# ============================================
# - Use PM2_INSTANCES=1 (single CPU core)
# - Set PM2_MAX_MEMORY=400M or lower to prevent OOM
# - Keep DB_POOL_MAX=5 or lower
# - Set RATE_LIMIT_MAX=100 to protect against abuse
# - Enable LOG_FORMAT=json for better log management
